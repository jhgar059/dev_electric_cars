{% extends "base.html" %}

{% block title %}Planeación y Diseño - Electric Cars Database{% endblock %}

{% block content %}
<div class="container my-5">
    <h1 class="section-title">Fase de Planeación y Diseño del Proyecto</h1>

    <div class="info-block mb-4 fade-in">
        <h2 class="h4 text-primary mb-3">1. Diagrama de Clases (Conceptual)</h2>
        <p>
            El diagrama de clases es una representación visual de la estructura de las clases del sistema, mostrando sus atributos, operaciones y las relaciones entre ellas. Para este proyecto, las clases principales reflejan las entidades de negocio:
        </p>
        <ul class="list-unstyled">
            <li><i class="fas fa-car-side me-2 text-primary"></i> <strong>AutoElectrico:</strong> Representa un vehículo eléctrico con sus características principales.</li>
            <li><i class="fas fa-bolt me-2 text-primary"></i> <strong>Carga:</strong> Detalla la dificultad y parámetros de carga para diferentes modelos.</li>
            <li><i class="fas fa-charging-station me-2 text-primary"></i> <strong>Estacion:</strong> Describe las estaciones de carga disponibles.</li>
            <li><i class="fas fa-trash-alt me-2 text-primary"></i> <strong>Entidades Eliminadas:</strong> Clases espejo para mantener el historial de registros eliminados (AutoEliminado, CargaEliminada, EstacionEliminada).</li>
        </ul>
        <p>
            Las relaciones son principalmente de composición (la carga y la estación son componentes que se relacionan con un auto eléctrico, aunque no directamente en un sentido estricto de cardinalidad uno a muchos bidireccional en el ORM, sí lo son conceptualmente).
        </p>
        <div class="text-center">
            <img src="/static/images/class_diagram.png" alt="Diagrama de Clases" class="img-fluid rounded shadow-sm" style="max-width: 800px;">
        </div>
    </div>

    <div class="info-block mb-4 fade-in">
        <h2 class="h4 text-primary mb-3">2. Modelo Entidad-Relación (Base de Datos)</h2>
        <p>
            El MER es una representación abstracta de la estructura de una base de datos. Se han diseñado tablas para cada entidad principal y sus respectivas tablas de historial.
        </p>
        <ul class="list-unstyled">
            <li><i class="fas fa-table me-2 text-primary"></i> <strong>Tablas Principales:</strong> <code>autos_electricos</code>, <code>cargas</code>, <code>estaciones_carga</code>.</li>
            <li><i class="fas fa-archive me-2 text-primary"></i> <strong>Tablas de Historial:</strong> <code>autos_eliminados</code>, <code>cargas_eliminadas</code>, <code>estaciones_eliminadas</code>.</li>
        </ul>
        <p>
            Las relaciones se gestionan a través de claves primarias (ID) y no se implementan claves foráneas explícitas a nivel de base de datos entre las tablas principales y de historial en este diseño simplificado, ya que la lógica de "movimiento" se maneja a nivel de aplicación (borrar de una, insertar en otra). Para búsquedas, las tablas eliminadas replican la estructura de las principales.
        </p>
        <div class="text-center">
            <img src="/static/images/ER_diagram.png" alt="Diagrama Entidad-Relación" class="img-fluid rounded shadow-sm" style="max-width: 800px;">
        </div>
    </div>

    <div class="info-block fade-in">
        <h2 class="h4 text-primary mb-3">3. Tecnologías Seleccionadas</h2>
        <p>
            Para este proyecto, se han elegido un conjunto de tecnologías robustas y modernas para asegurar escalabilidad, mantenibilidad y una buena experiencia de desarrollo y usuario.
        </p>
        <div class="row row-cols-1 row-cols-md-3 g-4 mt-3">
            <div class="col">
                <div class="card h-100 shadow-sm text-center">
                    <div class="card-body">
                        <i class="fas fa-server fa-3x text-primary mb-3"></i>
                        <h5 class="card-title">FastAPI</h5>
                        <p class="card-text">Framework web de alto rendimiento para construir APIs RESTful, basado en Starlette y Pydantic.</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow-sm text-center">
                    <div class="card-body">
                        <i class="fas fa-database fa-3x text-success mb-3"></i>
                        <h5 class="card-title">SQLAlchemy</h5>
                        <p class="card-text">Potente ORM (Object-Relational Mapper) para Python, que permite interactuar con bases de datos de forma orientada a objetos.</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow-sm text-center">
                    <div class="card-body">
                        <i class="fas fa-solid fa-chart-simple fa-3x text-info mb-3"></i>
                        <h5 class="card-title">Chart.js</h5>
                        <p class="card-text">Librería de JavaScript para crear gráficos responsivos y visualmente atractivos en el frontend.</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow-sm text-center">
                    <div class="card-body">
                        <i class="fab fa-html5 fa-3x text-danger mb-3"></i>
                        <h5 class="card-title">HTML, CSS (Bootstrap), JavaScript</h5>
                        <p class="card-text">Tecnologías estándar para la creación de la interfaz de usuario, con Bootstrap para un diseño responsivo.</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow-sm text-center">
                    <div class="card-body">
                        <i class="fab fa-git-alt fa-3x text-dark mb-3"></i>
                        <h5 class="card-title">Git & GitHub</h5>
                        <p class="card-text">Sistema de control de versiones y plataforma de colaboración para la gestión del código fuente.</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow-sm text-center">
                    <div class="card-body">
                        <i class="fas fa-cloud fa-3x text-secondary mb-3"></i>
                        <h5 class="card-title">Render (Despliegue)</h5>
                        <p class="card-text">Plataforma en la nube para el despliegue continuo de la aplicación y la base de datos.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}